###############################################################
# Copyright (c) 2021, 2023 Contributors to the CatenaX (ng) GitHub Organisation
#
# See the NOTICE file(s) distributed with this work for additional
# information regarding copyright ownership.
#
# This program and the accompanying materials are made available under the
# terms of the Apache License, Version 2.0 which is available at
# https://www.apache.org/licenses/LICENSE-2.0.
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.
#
# SPDX-License-Identifier: Apache-2.0
###############################################################

portal-reportportal:
  secret:
    password: "<path:portal/data/dev/reportportal#password>"
  existingSecret: secret-reportportal
  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: nginx
      nginx.ingress.kubernetes.io/ssl-redirect: "false"
      nginx.ingress.kubernetes.io/rewrite-target: /$2
      nginx.ingress.kubernetes.io/x-forwarded-prefix: /$1
      nginx.ingress.kubernetes.io/proxy-body-size: 128m
      nginx.ingress.kubernetes.io/proxy-buffer-size: 512k
      nginx.ingress.kubernetes.io/proxy-buffers-number: "4"
      nginx.ingress.kubernetes.io/proxy-busy-buffers-size: 512k
      nginx.ingress.kubernetes.io/proxy-connect-timeout: "8000"
      nginx.ingress.kubernetes.io/proxy-read-timeout: "4000"
      nginx.ingress.kubernetes.io/proxy-send-timeout: "4000"
    hosts:
      - host: portal-reportportal.dev.demo.catena-x.net
        paths:
          - path: /
            pathType: Prefix
    tls:
      - hosts:
          - portal-reportportal.dev.demo.catena-x.net
        secretName: "tls-secret"
  rabbitmq:
    SecretName: "<path:portal/data/dev/reportportal/rabbitmq#SecretName>"
    installdep:
      enable: true
    endpoint:
      ## Enable HTTPS and AMQPS
      ssl: false
      address: rabbitmq.default.svc.cluster.local
      port: 5672
      user: rabbitmq
      apiport: 15672
      apiuser: rabbitmq
      password:
    ## Virtual hosts provide logical grouping and separation of resources.
    ## ref: https://www.rabbitmq.com/vhosts.html
    vhost: analyzer
  postgresql:
    SecretName: "<path:portal/data/dev/reportportal/postgresql#SecretName>"
    installdep:
      enable: true
    endpoint:
      address: postgresql.default.svc.cluster.local
      port: 5432
      user: rpuser
      dbName: reportportal
      ## Whether to use SSL
      ssl: disable
      # ssl: disable / require
      password:
      ## Number of database connections
      connections:
  elasticsearch:
    secretName: "<path:portal/data/dev/reportportal/elasticsearch#secretName>"
    installdep:
      enable: false
    ## Double entry moves test logs from PostgreSQL to Elastic-type engines
    ## Ref: https://reportportal.io/blog/double-entry-in-5.7.2
    ##
    ## ElasticSearch Performance tuning
    ## Ref: https://reportportal.io/docs/installation-steps/OptimalPerformanceHardwareSetup/#7-elasticsearch-performance-tuning
    ##
    doubleEntry:
      enable: true
    endpoint: http://elasticsearch-master.default.svc.cluster.local:9200
    user: elastic
    password:
  minio:
    secretName: "<path:portal/data/dev/reportportal/minio#secretName>"
    enabled: true
    installdep:
      enable: true
    endpoint: http://minio.default.svc.cluster.local:9000
    endpointshort: minio.default.svc.cluster.local:9000
    region: ""
    accesskey: "minio"
    secretkey: "<path:portal/data/dev/reportportal/minio#secretkey>"
    accesskeyName: "access-key"
    secretkeyName: "secret-key"
    bucketPrefix: ""
    defaultBucketName: ""
    integrationSaltPath: ""